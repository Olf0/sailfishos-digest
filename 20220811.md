Repository activities from 2022-07-26 to 2022-08-08
---------------------------------------------------

# Repository roundup

## Homescreen

* `lipstick`, the compositor and main user interface of your phone, **Tomin1** created a pull request to [support an `X-DBusActivatable` key](https://github.com/sailfishos/lipstick/pull/27) in desktop files. This works like `DBusActivatable`, which allows an app to be opened via DBus, but without the restriction that the name must be in "reverse DNS notation" form (e.g. "org.sailfishos.docs"). **Tomin1** also opened a pull request to [update the documentation](https://github.com/sailfishos/docs.sailfishos.org/pull/97 ) on the topic.

* Also in `lipstick`, **JacekJagosz** has proposed a pull request to [allow Discord notifications](https://github.com/sailfishos/lipstick/pull/26) (from the Discord Android app) to work correctly. As **JacekJagosz** points out, "Discord is one of the most popular chat apps right now", so the functionality will be useful to many users.

## SDK

The SDK got a big bunch of pull requests both proposed and merged in the last fortnight.

* `mic`, used for creating operating system images, **martyone** had his pull request merged to [ensure `/var/lock` exists](https://github.com/sailfishos/mic/pull/14), and so avoids the SDK hitting an error when it doesn't.

* Also in `mic`, **martyone** also had his pull request merged for ensuring that `mic` [fails on error](CLOSED https://github.com/sailfishos/mic/pull/13) if the `--erroronfail` parameter is added. Previously these errors weren't bubbling up.

* Also in `mic`, and also from **martyone**, this merged pull request [adds a dependency](https://github.com/sailfishos/mic/pull/12) to `kmod`to avoid an error that caused `mic` to fail on new installs. **martyone** also took the opportunity to clean up the package files to avoid `rpmlint` errors and warnings.

* Also in `mic`, **martyone** has proposed a pull request to [generate the package's changelog](https://github.com/sailfishos/mic/pull/15) from the git history when building with the SDK.

* `scratchbox2`, the cross-compilation tool used by the SDK, **thaodan** has had a pull request merged to [fix the order of prefix selection](https://github.com/sailfishos/scratchbox2/pull/15 ) to avoid build tools being run under the target policy when they should be run under the tooling policy.

* `sailfish-qtcreator`, the Sailfish IDE, **martyone** has proposed a pull request to allow `valgrind` to [perform memcheck with tunnelled connections](https://github.com/sailfishos/sailfish-qtcreator/pull/533). If accepted, this will allow memcheck to be performed successfully using the emulator.

* `sfdk-build-tools`, a package of scripts used to build the Sailfish SDK, **martyone** has proposed a pull request to [include a manifest file](https://github.com/sailfishos/sdk-build-tools/pull/123) in the sdk archives, so that the existence of the correct tooling can be detected without the need to decompress the entire target archive first.

## Packaging

* `sdk-setup`, part of the Sailfish SDK, **martyone** had a pull request merged to ensure that for apps that have both a `.changes` and a `.changes.run` file in their source, [the `.changes.run` file takes precedence](https://github.com/sailfishos/sdk-setup/pull/329). This is useful when a changelog that's autogenerated from the git log has to be appended to an older static changelog. **martyone** also had his pull request merged to [update the `sfdk` documentation](https://github.com/sailfishos/sailfish-qtcreator/pull/532) on the same topic.

* Also in `sdk-setup`, **martyone** has proposed a pull request to fix a bug that [prevented arguments being passed](https://github.com/sailfishos/sdk-setup/pull/331) through from `sfdk make` when `%make_build` is used in an application's spec file.

* Also in `sdk-setup`, **martyone** has proposed a pull request to [allow a broader range of tag names](https://github.com/sailfishos/sdk-setup/pull/330) in projects to be picked up by the build process. The functionality is used when automatically determining the version number of a package from the tags in the `git` history.

* `python3`, the popular and widely used programming language, **Tomin1** has proposed a pull request to [update the python3 package](https://github.com/sailfishos/python3/pull/4) with a patch from Fedora so that `rpmbuild` uses a timestamp from the changelog to avoid repeated builds having different contents, but without a performance hit in the process.

* `nemo-qml-plugin-dbus`, a library that allows complex DBus calls to be made easily from QML code, **Zemo-sole** has proposed a pull request to [add the files needed](https://github.com/sailfishos/nemo-qml-plugin-dbus/pull/10) to allow building of a `.deb` package for use with Debian-based distributions.

* `rpmlint`, a tool used to check for errors when building rpms, **martyone** has proposed a pull request to have `rpmlint` [ignore the dynamic parts of the version number](https://github.com/sailfishos/rpmlint/pull/4) of an application. These dynamic aren't included in our changelogs since they're automatically generated by OBS, but without this change cause the rpm validator to output an incorrect warning.

## Tools

* `shadow-utils`, used to manage the the shadow password files, **krnlyng** had a pull request merged to [introduce the `newuidmap` and `newgidmap` binaries](https://github.com/sailfishos/shadow-utils/pull/3).

## Multi-user support

* `user-managerd`, a daemon used for managing Sailfish OS device users via DBus, **krnlyng** has proposed a pull request to [guard against user files being removed](https://github.com/sailfishos/user-managerd/pull/44) for the system user.

## WiFi

* `wpa_supplicant`, for accessing WPA and WPA2 protected WiFi networks, **Thaodan** has created a draft pull request to start the process of [upgrading to the upstream version 2.10](https://github.com/sailfishos/wpa_supplicant/pull/4).

* `connman`, the tool that manages networking in the background on Sailfish OS, **Mukhamedgarif** has proposed a pull request that updates the [heuristic for determining weak WiFi hotspots](https://github.com/sailfishos/connman/pull/31). The pull request, which simplifies the existing heuristic, has generated some interesting discussion

## Calendar

* `buteo-sync-plugin-carddav`, a plugin for synchronising contacts, **HenkKalkwater** has proposed a pull request to [fix CardDav syncing with NextCloud servers](https://github.com/sailfishos/buteo-sync-plugin-carddav/pull/3) where the `.well-known` index redirect omits the hostname. This addresses the [bug raised on the forum](https://forum.sailfishos.org/t/4-4-0-58-carddav-sync-with-nextcloud-fails/11033) about the issue.

## Bluetooth

* `bluez5`, the Bluetooth stack used by Sailfish, **abranson** has had his pull request merged to ensure the [mpris-proxy service is automatically restarted](https://github.com/sailfishos/bluez5/pull/7) should it fail. This fixes an [issue reported on the forum](https://forum.sailfishos.org/t/4-4-0-mpris-proxy-service-crashing-and-not-restarting/9861) that caused the controls on audio Bluetooth devices to occasionally fail.

## Documentation

* `sailjail-permissions`, the definition of the sandboxing permissions, **flypig** has had a pull request merged to [update the documentation](https://github.com/sailfishos/sailjail-permissions/pull/128) in order to clarify which apps are sandboxed and which have the default sandboxing profile applied to them.

* Also in `sailjail-permissions`, **martyone** has had a pull request merged that adds [advice for app authors](https://github.com/sailfishos/sailjail-permissions/pull/125) to the documentation, explaining how to migrate data when an application first starts using sandboxing.

* Also in `sailjail-permissions`, **flypig** has proposed a pull request to [add some explanatory info](https://github.com/sailfishos/sailjail-permissions/pull/129) about the Sharing permission.

* `user-managerd`, a daemon used for managing Sailfish OS device users via DBus, **martyone** has had a pull request merged to ensure [the documentation index is generated correctly](https://github.com/sailfishos/user-managerd/pull/43).

* `docs.sailfishos.org`, the online Sailfish documentation, **martyone** has proposed a pull request to [add to the documentation](https://github.com/sailfishos/docs.sailfishos.org/pull/92) an explanation of how best to write API documentation for Qt-based Sailfish components.

* Also in `docs.sailfishos.org`, **martyone** has also proposed a pull request that [gives more details](https://github.com/sailfishos/docs.sailfishos.org/pull/93) about sandboxing and permissions.

* And another addition to `docs.sailfishos.org`, **vigejolla** has proposed a pull request to [add a nice tutorial](https://github.com/sailfishos/docs.sailfishos.org/pull/96) on how to debug applications using the Sailfish SDK.

# Apps advancing

## Zollstock

We've covered Zollstock a few times in recent newsletters. That's testament to the rapid updates author Samuel Kron (**black_sheep_dev**) has been pushing out. Zollstock is a neat utility that provides a ruler &mdash; the sort that allows you to measure distances &mdash; on your Sailfish OS phone.

You might think that a phone isn't the best way to measure distances: the screen doesn't go right to the edge, there's a tricky vertical gap to deal with, different phones have different pixel densities. All of that is true of course, but in spite of these challenges, Zollstock manages to do an excellent job of measuring distances of up to two metres.

The latest 0.2.1 release adds Swedish translations from Tuomas F Nyqvist (**lumen**), as well as the ability to change the scaling factor. Using an Xperia 10 and a *real* ruler, I tested the default scaling factor and found it to already be spot on. Which I suppose means that the configured device pixel density is correct. But if there are devices out there where it's incorrect, even just slightly, they I can see the ability to tweak it being especially useful.

Samuel is a prolific developer for Sailfish OS and its great to see him continue to update Zollstock with new features. His catalogue runs to at least fourteen apps, including Evento for counting down to (or up from) important events in time, Aenigma to keep those restless brain cells occupied with puzzles, and Quartermaster for controlling your smart home. If you like Zollstock or any of his other creations, don't forget to exercise your right to send him some gratitude in financial form through [PayPal](https://www.paypal.com/paypalme/nubecula/1 ) or [Librapay](https://liberapay.com/black-sheep-dev/donate ).

Zollstock is available from the Jolla Store and [OpenRepos](https://openrepos.net/content/blacksheepdev/zollstock ).

## Hydrogen

With Matrix becoming the de-facto standard open source Slack alternative, it's great to see Thilo Kogge (**thigg**) continuing to update Hydrogen on a regular basis. The [upstream Hydrogen](https://matrix.org/docs/projects/client/hydrogen ) is an Apache-2.0-licensed Matrix client written in Javascript, which runs on Sailfish OS using the WebView. The cross-platform nature of Hydrogen means that all of us Sailfish users can benefit from development that happens across multiple platforms.

The app works very well in practice, although inevitably the cross-platform nature means it loses some Sailfish styling. But it makes up for this in terms of functionality.

The latest update brings the Hydrogen app up to 0.3. From what I can tell, the [main change](https://github.com/thigg/sfos-hydrogen/commit/a708f1a3decd8f9b2a7d6e08b1a9fddc0e22fd16 ) is a switch from using the `file://` protocol to using a local python-based webserver backend. The software is still served locally, but using a slightly different means.

This is an important change since it avoids the [cross-origin resource sharing restrictions](https://forum.sailfishos.org/t/webview-webengine-cors-headers-and-file-loading-in-sfos-4-4/10742 ) introduced with Sailfish OS 4.4.0. Unlike the previous version there's now no need to disabled the CORS checks, resulting in overall improved security for the app.

If you spend any time on Matrix you'll find Hydrogen to be a great tool, currently only available directly from the Jolla Store.

## SeaPrint

SeaPrint, the premiere printing solution for Sailfish OS, also gets another update this fortnight. Authored by Anton Thomasson (**attah**), updates to this excellent app now seem to be getting their own codenames, this 1.2 version being known as "Lobster". The update fixes a number of issues, including crashes when manually adding or removing printers, and two-stage job-creation which helps improve performance on some HP printers. The app is also now fully translated into Polish, meaning there are now seven languages supported (German, Spanish, French, Dutch, Polish, Simplified Chinese and English).

The app remains a super-simple way to print documents directly from your phone. As long as you have a networked printer, the chances are the app will pick it up directly without you even having to configure it. Use the [Share Plugin](https://openrepos.net/content/attah/seaprint-share-plugin ) to send files directly from other apps to SeaPrint, or pick out PDFs or images from your phone's storage. SeaPrint will then do the rest, performing any necessary conversion of the file and then sending the results to be printed across the network.

While printing directly from your phone really shouldn't be a big deal in 2022, I still get a kick out of how easy and elegant SeaPrint manages to make it. SeaPrint is available for installation directly from the Jolla Store.

## Молитвослов (Prayer Book)

Last time we featured Prayer Book from **zyyev** was back in April when it gained a number of new features. This latest update, which brings the app from version 5.4.3 to 5.4.4, is more about content than features.

This makes perfect sense given that the main purpose of the app is to provide access to an impressive database of Orthodox Christian prayers, important dates, and information about the saints. The main new addition for this latest release is the addition of new prayers for the family.

It's excellent to see Prayer Book continue to get updates, and whether you're an Orthodox Christian yourself, or are just interested to know more about it, then Prayer Book is an excellent install. It's available from both the Jolla Store and [OpenRepos](https://openrepos.net/content/zuyev/molitvoslov-prayer-book ).


